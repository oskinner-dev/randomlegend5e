<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- iOS PWA Support -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="RandomLegend 5e">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%232d1810' width='100' height='100'/><text y='75' x='50' text-anchor='middle' font-size='60' fill='%23d4af37'>üé≤</text></svg>">
    
    <meta name="description" content="RandomLegend 5e - Ultimate D&D Character Generator with every official race, class, and background">
    <meta name="theme-color" content="#2d1810">
    <title>RandomLegend 5e - D&D Character Generator</title>
    <link rel="manifest" href="manifest.json">
    
    <!-- D&D Fantasy Theme -->
    <link rel="stylesheet" href="theme-dnd.css">
</head>
<body>
    <!-- HEADER -->
    <header class="header">
        <div class="header-content">
            <div>
                <div class="logo">
                    <span class="logo-dice">üé≤</span>
                    <span>RandomLegend 5e</span>
                </div>
                <div class="tagline">Every Official Option ‚Ä¢ Instant Sheets ‚Ä¢ DM Approved</div>
            </div>
            <div class="header-controls">
                <button class="theme-toggle" onclick="toggleTheme()">Theme</button>
                <button class="lang-toggle" onclick="toggleLang()">üåê EN</button>
            </div>
        </div>
    </header>

    <div class="container">
        <!-- HERO -->
        <section class="section text-center">
            <h1 style="font-family: var(--font-display); font-size: 3rem; margin-bottom: 1.5rem; color: var(--crimson); text-transform: uppercase; letter-spacing: 4px;">
                Forge Your Legend
            </h1>
            <p style="font-size: 1.4rem; color: var(--ink-brown); margin-bottom: 2.5rem; font-style: italic;">
                98 Races ‚Ä¢ 100+ Subclasses ‚Ä¢ 50+ Backgrounds
            </p>
            <button class="btn btn-primary btn-lg" onclick="generateFullCharacter()">
                ‚öîÔ∏è Generate Character
            </button>
        </section>

        <!-- INDIVIDUAL RANDOMIZERS -->
        <section class="section">
            <h2 class="section-title">‚ö° Randomizers</h2>
            <div class="randomizer-grid">
                <div class="randomizer-card">
                    <h3>üßù Race</h3>
                    <div class="result" id="race-result">Roll the dice...</div>
                    <button class="btn btn-primary btn-block" onclick="randomizeRace()">Roll Race</button>
                </div>

                <div class="randomizer-card">
                    <h3>‚öîÔ∏è Class</h3>
                    <div class="result" id="class-result">Roll the dice...</div>
                    <button class="btn btn-primary btn-block" onclick="randomizeClass()">Roll Class</button>
                </div>

                <div class="randomizer-card">
                    <h3>üìú Background</h3>
                    <div class="result" id="background-result">Roll the dice...</div>
                    <button class="btn btn-primary btn-block" onclick="randomizeBackground()">Roll Background</button>
                </div>

                <div class="randomizer-card">
                    <h3>üìä Stats</h3>
                    <div class="result" id="stats-result">Roll the dice...</div>
                    <button class="btn btn-primary btn-block" onclick="randomizeStats()">Roll Stats</button>
                </div>

                <div class="randomizer-card">
                    <h3>üé≠ Personality</h3>
                    <div class="result" id="personality-result">Roll the dice...</div>
                    <button class="btn btn-primary btn-block" onclick="randomizePersonality()">Roll Personality</button>
                </div>

                <div class="randomizer-card">
                    <h3>‚ú® Name</h3>
                    <div class="result" id="name-result">Roll the dice...</div>
                    <button class="btn btn-primary btn-block" onclick="randomizeName()">Roll Name</button>
                </div>
            </div>
        </section>

        <!-- BATCH GENERATION -->
        <section class="section">
            <h2 class="section-title">üî¢ Batch Generator</h2>
            <div style="display: flex; gap: 1.5rem; align-items: center; flex-wrap: wrap; justify-content: center;">
                <label style="font-family: var(--font-display); font-weight: 700; font-size: 1.1rem;">Generate:</label>
                <select id="batch-count" style="padding: 0.75rem 1.5rem; border-radius: 4px; background: var(--aged-paper); color: var(--ink-black); border: 3px solid var(--border-ornate); font-family: var(--font-display); font-weight: 600; font-size: 1rem;">
                    <option value="1">1 Character</option>
                    <option value="5">5 Characters</option>
                    <option value="10">10 Characters</option>
                    <option value="20">20 Characters</option>
                </select>
                <button class="btn btn-primary" onclick="generateBatch()">Generate Batch</button>
            </div>
            <div id="batch-results" class="mt-3"></div>
        </section>

        <!-- CHARACTER SHEET -->
        <section class="character-sheet" id="character-sheet">
            <div class="character-header">
                <h1 class="character-name" id="char-name">Thorin Ironforge</h1>
                <p class="character-subtitle" id="char-subtitle">Level 1 Hill Dwarf Fighter (Champion)</p>
            </div>

            <!-- ABILITY SCORES -->
            <div>
                <h3 style="font-family: var(--font-display); color: var(--crimson); margin-bottom: 1.5rem; text-align: center; text-transform: uppercase; letter-spacing: 2px;">Ability Scores</h3>
                <div class="stats-grid">
                    <div class="stat-box"><div class="stat-label">STR</div><div class="stat-value" id="stat-str">16</div><div class="stat-modifier" id="mod-str">+3</div></div>
                    <div class="stat-box"><div class="stat-label">DEX</div><div class="stat-value" id="stat-dex">14</div><div class="stat-modifier" id="mod-dex">+2</div></div>
                    <div class="stat-box"><div class="stat-label">CON</div><div class="stat-value" id="stat-con">15</div><div class="stat-modifier" id="mod-con">+2</div></div>
                    <div class="stat-box"><div class="stat-label">INT</div><div class="stat-value" id="stat-int">10</div><div class="stat-modifier" id="mod-int">+0</div></div>
                    <div class="stat-box"><div class="stat-label">WIS</div><div class="stat-value" id="stat-wis">12</div><div class="stat-modifier" id="mod-wis">+1</div></div>
                    <div class="stat-box"><div class="stat-label">CHA</div><div class="stat-value" id="stat-cha">8</div><div class="stat-modifier" id="mod-cha">-1</div></div>
                </div>
            </div>

            <!-- CORE INFO -->
            <div class="mt-3">
                <h3 style="font-family: var(--font-display); color: var(--crimson); margin-bottom: 1.5rem; text-align: center; text-transform: uppercase; letter-spacing: 2px;">Core Information</h3>
                <div class="info-grid">
                    <div class="info-item"><div class="info-label">HP</div><div class="info-value" id="char-hp">12</div></div>
                    <div class="info-item"><div class="info-label">AC</div><div class="info-value" id="char-ac">16</div></div>
                    <div class="info-item"><div class="info-label">Speed</div><div class="info-value" id="char-speed">25 ft</div></div>
                    <div class="info-item"><div class="info-label">Initiative</div><div class="info-value" id="char-initiative">+2</div></div>
                    <div class="info-item"><div class="info-label">Proficiency</div><div class="info-value">+2</div></div>
                    <div class="info-item"><div class="info-label">Hit Die</div><div class="info-value" id="char-hitdie">1d10</div></div>
                </div>
            </div>

            <!-- TRAITS & FEATURES -->
            <div class="mt-3">
                <h3 style="font-family: var(--font-display); color: var(--crimson); margin-bottom: 1.5rem; text-align: center; text-transform: uppercase; letter-spacing: 2px;">Racial Traits</h3>
                <ul class="trait-list" id="racial-traits"></ul>
            </div>

            <div class="mt-3">
                <h3 style="font-family: var(--font-display); color: var(--crimson); margin-bottom: 1.5rem; text-align: center; text-transform: uppercase; letter-spacing: 2px;">Class Features</h3>
                <ul class="trait-list" id="class-features"></ul>
            </div>

            <div class="mt-3">
                <h3 style="font-family: var(--font-display); color: var(--crimson); margin-bottom: 1.5rem; text-align: center; text-transform: uppercase; letter-spacing: 2px;">Proficiencies</h3>
                <div id="proficiencies-content"></div>
            </div>

            <div class="mt-3">
                <h3 style="font-family: var(--font-display); color: var(--crimson); margin-bottom: 1.5rem; text-align: center; text-transform: uppercase; letter-spacing: 2px;">Equipment</h3>
                <ul class="trait-list" id="equipment-list"></ul>
            </div>

            <div class="mt-3">
                <h3 style="font-family: var(--font-display); color: var(--crimson); margin-bottom: 1.5rem; text-align: center; text-transform: uppercase; letter-spacing: 2px;">Background</h3>
                <div id="background-content"></div>
            </div>

            <!-- EXPORT BUTTONS -->
            <div class="mt-3" style="display: flex; gap: 1rem; flex-wrap: wrap; justify-content: center;">
                <button class="btn btn-primary" onclick="exportJSON()">üì• JSON</button>
                <button class="btn btn-primary" onclick="exportPDF()">üìÑ PDF</button>
                <button class="btn btn-primary" onclick="shareCharacter()">üîó Share</button>
                <button class="btn btn-secondary" onclick="saveToFavorites()">‚≠ê Favorite</button>
                <button class="btn btn-secondary" onclick="window.print()">üñ®Ô∏è Print</button>
            </div>
        </section>

        <!-- FOOTER -->
        <footer style="text-align: center; padding: 3rem 2rem; color: var(--ink-brown); font-style: italic;">
            <p style="font-size: 1.1rem; margin-bottom: 0.5rem;">RandomLegend5e.com ‚Ä¢ Free for your game</p>
            <p style="font-size: 0.9rem;">All content ¬© Wizards of the Coast</p>
        </footer>
    </div>

    <!-- DICE ANIMATION -->
    <div class="dice-roller" id="dice-roller">
        <div class="dice" id="dice-display">üé≤</div>
    </div>

    <!-- LOAD FULL D&D DATA -->
    <script src="races-data.js"></script>
    <script src="classes-data.js"></script>
    <script src="backgrounds-data.js"></script>
    
    <!-- MAIN APP SCRIPT -->
    <script src="app.js"></script>
</body>
</html>
